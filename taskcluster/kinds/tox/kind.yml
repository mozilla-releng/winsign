---
transforms:
  - taskgraph.transforms.matrix

tasks:
    tox:
        matrix:
            python: ["38", "39", "310", "311"]
        description: code linting & unit tests on python {matrix[python]}
        worker-type: test
        worker:
            docker-image: {in-tree: tox}
            max-run-time: 1800
        run:
            using: run-task
            command: ['uv', 'run', 'tox', '-e', 'py{matrix[python]},check,report']
            cwd: '{{checkout}}'
